<style>

    .tooltiptext {
        visibility: hidden;
        width: 54px;
        background-color: #fab526;
        color: #fff;
        text-align: center;
        border-radius: 3px;
        font-weight: 500;
        padding: 6px 0;
        position: absolute;
        z-index: 1;
        font-size: 14px;
        top: 0px;
        left: -54px;
        text-transform: capitalize;
    }

    .remove .tooltiptext {
        width: 69px;
        background-color: #eb6532;
        left: -69px;
    }

    .edit,
    .remove {
        overflow: visible;
    }

    a.edit:hover .tooltiptext,
    a.remove:hover .tooltiptext {
        visibility: visible;
        transition: all .15s linear;
    }

</style>

<div class="wrapper" >
    <app-header></app-header>
    <div class="main-panel" style="min-height: fit-content" >
        <!-- Navbar -->
        <!-- End Navbar -->
        <div class="content" style="margin-top: 40px;">
            <div class="row">
                <div class="col-md-12">
                    <div class="card" >
                        <div class="card" style="box-shadow:none;">
                            <div class="card-header">
                                <div class="row">
                                    <div class="col-md-8">
                                        <h5 class="card-title float-center col-md-12" align="left">UPLOAD APK</h5>
                                    </div>
                                    <div class="col-md-4 text-center">
                                        <a routerLink="/upload-apk" class="">
                                            <button class="btn btn-success">ADD APK</button></a>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <br>
                            </div>
                            <div class="card-body cardHig" style="overflow: scroll;overflow-y: hidden;">
                                <div class="toolbar">
                                    <!--  Here you can write extra buttons/actions for the toolbar  -->
                                </div>
                                <table id="datatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                                    <thead>
                                    <tr class="text-center btnFull">
                                        <th class="disabled-sorting">Actions</th>
                                        <th class="disabled-sorting">APK Status</th>
                                        <th (click)="sort('apk')">APK <span class="fa fa-sort"></span></th>
                                        <th nowrap (click)="sort('apk_name')">Name <span class="fa fa-sort"></span></th>
                                       <th (click)="sort('logo')"> Logo<span class="fa fa-sort"></span></th>


                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let apk of apkList | orderBy: key : reverse | paginate: { itemsPerPage: 5, currentPage: p }">
                                        <td>

                                            <a href="javascript:void(0)"><button
                                                    class="btn btn-danger btn-xs"   (click)="unlinkdealerUser(apk.apk_id)">Delete</button></a>
                                            <a href="javascript:void(0)" (click)="showEditForm(apk);" data-toggle="modal" data-target="#edit"><button
                                                    class="btn btn-warning btn-xs " style=" margin: -12px;">Edit</button></a>
                                        </td>
                                        <td>
                                            <ui-switch [checked]="getEnabled(apk.apk_status)" (change)="onChange($event,apk.apk_id)"></ui-switch>
                                        </td>
                                        <td>{{apk.apk}}</td>
                                        <td>{{apk.apk_name}}</td>
                                        <td><img src="{{basrUrl}}/users/getFile/{{apk.logo}}" height="20px" width="20px"></td>


                                    </tr>
                                    </tbody>
                                </table>
                                <div class="row text-center" style="display: block;">
                                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                                </div>

                                <div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <span class="close" id="from" onclick="removeClass()">&times;</span>
                                                <h5 class="modal-title custom_align">Edit Your Detail</h5>

                                            </div>
                                            <div class="modal-body">
                                                <form id="formData" #deviceData="ngForm" method="" (ngSubmit)="updateAdminDealer()" ngNativeValidate>
                                                    <p> (*)- Mandotory fields</p>
                                                    <div class="form-group">
                                                        <label>Name *</label>
                                                        <input type="text" class="form-control" required name="name" [(ngModel)]="data.apk_name">
                                                        <font class="errortext" color="red" *ngIf="!deviceData.form.controls.apk_name?.valid && deviceData.form.controls.apk_name?.touched">Please Enter Your Name</font>
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Logo </label><br>
                                                        <input type="file" name="logoFile" (change)="logoFile($event)">
                                                        <font class="errortext" color="red" *ngIf="!deviceData.form.controls.logo?.valid && deviceData.form.controls.logo?.touched">Please Enter Your logo</font>
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Apk</label><br>
                                                        <input type="file" name="apk" (change)="apkFile($event)">
                                                    </div>
                                                    <br>
                                                    <button type="submit" class="btn btn-primary">UPDATE</button>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- /.modal-content -->
                                    </div>
                                    <!-- /.modal-dialog -->
                                </div>
                            </div>
                            <!-- end content-->
                        </div>
                        <!--  end card  -->
                    </div>
                    <!-- end col-md-12 -->
                </div>
                <!-- end row -->
            </div>
        </div>
    </div>
</div>
